# Premiers pas avec MongoDB en ligne de commande (`mongosh`)

## ğŸ“Œ Se connecter avec `mongosh`

Si tu as installÃ© MongoDB, ouvre ton terminal et tape simplement :

```bash
mongosh
```

Si tout fonctionne, tu vois une invite comme :

```bash
test>
```

Par dÃ©faut, tu es dans la base `test`.

---

## ğŸ—ï¸ Changer ou crÃ©er une base de donnÃ©es

MongoDB crÃ©e la base **au moment oÃ¹ tu insÃ¨res des donnÃ©es**.

Pour te placer dans une base :

```js
use ma_base
```

> ğŸ’¡ Si elle n'existe pas encore, MongoDB lâ€™enregistrera quand tu y ajouteras des donnÃ©es.

---

## ğŸ“ CrÃ©er une collection et insÃ©rer un document

CrÃ©er une collection sâ€™effectue **automatiquement** Ã  la premiÃ¨re insertion.

Exemple :

```js
db.utilisateurs.insertOne({
  nom: "Alice",
  age: 30,
  email: "alice@example.com"
})
```

> ğŸ” `utilisateurs` est le nom de la collection.

---

## ğŸ“‘ InsÃ©rer plusieurs documents

```js
db.utilisateurs.insertMany([
  { nom: "Bob", age: 25 },
  { nom: "Charlie", age: 35 }
])
```

---

## ğŸ” Lire les documents

Afficher tous les documents :

```js
db.utilisateurs.find()
```

Rendre le rÃ©sultat plus lisible :

```js
db.utilisateurs.find().pretty()
```

Rechercher les utilisateurs de 30 ans :

```js
db.utilisateurs.find({ age: 30 })
```

---

## ğŸ¯ Rechercher avec des opÃ©rateurs

Trouver ceux qui ont plus de 30 ans :

```js
db.utilisateurs.find({ age: { $gt: 30 } })
```

Rechercher par nom partiel (expression rÃ©guliÃ¨re) :

```js
db.utilisateurs.find({ nom: /a/i })  // contient un "a", insensible Ã  la casse
```

---

## ğŸ› ï¸ Mettre Ã  jour un document

Changer lâ€™email de Alice :

```js
db.utilisateurs.updateOne(
  { nom: "Alice" },
  { $set: { email: "alice@newmail.com" } }
)
```

---

## ğŸ§¹ Supprimer un document

Supprimer Bob :

```js
db.utilisateurs.deleteOne({ nom: "Bob" })
```

Tout supprimer dans la collection :

```js
db.utilisateurs.deleteMany({})
```

---

## ğŸ“‹ Lister les bases et collections

Lister toutes les bases :

```js
show dbs
```

Lister les collections dans la base actuelle :

```js
show collections
```

---

## ğŸ“Œ RÃ©sumÃ© des commandes utiles

| Action                    | Commande                       |
| ------------------------- | ------------------------------ |
| Aller dans une base       | `use nom_de_la_base`           |
| Ajouter un document       | `insertOne()` / `insertMany()` |
| Lire les documents        | `find()`                       |
| Filtrer des rÃ©sultats     | `find({ champ: valeur })`      |
| Mettre Ã  jour un document | `updateOne()`                  |
| Supprimer un document     | `deleteOne()` / `deleteMany()` |
| Lister les bases          | `show dbs`                     |
| Lister les collections    | `show collections`             |

---
